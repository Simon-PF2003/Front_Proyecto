<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card text-center">
        <div class="card-body">
          <div *ngIf="loading" class="text-center">
            <div class="spinner-border text-primary" role="status">
              <span class="sr-only">Cargando...</span>
            </div>
            <p class="mt-3">Verificando estado del pago...</p>
          </div>

          <div *ngIf="!loading">
            <div *ngIf="paymentStatus === 'Aprobado'" class="success-content">
              <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
              <h2 class="text-success mt-3">¡Pago Exitoso!</h2>
              <p class="lead">Tu pago se procesó correctamente</p>
              
              <div class="payment-details mt-4">
                <div class="row">
                  <div class="col-sm-6">
                    <strong>Orden:</strong>
                  </div>
                  <div class="col-sm-6">
                    {{ orderId }}
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-sm-6">
                    <strong>Estado:</strong>
                  </div>
                  <div class="col-sm-6">
                    <span class="badge badge-success">{{ paymentStatus }}</span>
                  </div>
                </div>
                <div class="row mt-2" *ngIf="orderDetails?.payment_id">
                  <div class="col-sm-6">
                    <strong>ID de Pago:</strong>
                  </div>
                  <div class="col-sm-6">
                    {{ orderDetails.payment_id }}
                  </div>
                </div>
              </div>

              <div class="action-buttons mt-4">
                <button class="btn btn-primary mr-3" (click)="verMisPedidos()">
                  Ver mis pedidos
                </button>
                <button class="btn btn-outline-secondary" (click)="volverAlInicio()">
                  Volver al inicio
                </button>
              </div>
            </div>

            <div *ngIf="paymentStatus === 'Procesando'" class="processing-content">
              <i class="fas fa-clock text-warning" style="font-size: 4rem;"></i>
              <h2 class="text-warning mt-3">Pago en Proceso</h2>
              <p class="lead">Tu pago está siendo procesado</p>
              <p>Serás redirigido automáticamente...</p>
            </div>

            <div *ngIf="paymentStatus !== 'Aprobado' && paymentStatus !== 'Procesando'" class="error-content">
              <i class="fas fa-exclamation-triangle text-warning" style="font-size: 4rem;"></i>
              <h2 class="text-warning mt-3">Estado del Pago</h2>
              <p class="lead">{{ paymentStatus }}</p>
              
              <div class="action-buttons mt-4">
                <button class="btn btn-primary mr-3" (click)="verificarEstadoPago()">
                  Verificar nuevamente
                </button>
                <button class="btn btn-outline-secondary" (click)="volverAlInicio()">
                  Volver al inicio
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>