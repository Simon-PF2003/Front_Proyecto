<!-- SIDEBAR CONTENT (sin estructura de grid) -->
<div class="filters-sidebar card sticky-top" style="top: 1rem;">
  <div class="card-header d-flex justify-content-between align-items-center" style="background-color: #F8F4EC;">
    <span><i class="fas fa-sliders-h me-2"></i>Filtros</span>
    <button class="btn btn-outline-secondary btn-sm" (click)="filters.resetAll()">
      <i class="fas fa-times me-1"></i>Resetear
    </button>
  </div>

  <div class="card-body">
    <div class="accordion" id="filtersAccordion">

      <!-- Precio -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingPrice">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePrice">
            <i class="fas fa-dollar-sign me-2"></i>Rango de Precio
          </button>
        </h2>
        <div id="collapsePrice" class="accordion-collapse collapse">
          <div class="accordion-body">
            <div class="input-group mb-2">
              <span class="input-group-text">$</span>
              <input type="number" class="form-control" placeholder="Mínimo"
                    [(ngModel)]="filters.value.minPrice" min="0">
            </div>
            <div class="input-group mb-2">
              <span class="input-group-text">$</span>
              <input type="number" class="form-control" placeholder="Máximo"
                    [(ngModel)]="filters.value.maxPrice" min="0">
            </div>
            <div class="d-grid">
              <button type="button" class="btn btn-soft-primary btn-sm" (click)="applyPrice()">
                <i class="fas fa-search me-1"></i>Aplicar filtro
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Categoría -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingCategory">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCategory">
            <i class="fas fa-layer-group me-2"></i>Categoría
          </button>
        </h2>
        <div id="collapseCategory" class="accordion-collapse collapse">
          <div class="accordion-body">
            <div class="elegant-select-list" role="listbox" aria-label="Categorías">
              <button type="button" class="elegant-option"
                      *ngFor="let c of categories"
                      [class.active]="filters.value.selectedCategories.includes(c._id)"
                      (click)="filters.toggleCategory(c._id)"
                      role="option"
                      [attr.aria-selected]="filters.value.selectedCategories.includes(c._id)">
                <span>{{ c.type }}</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Marca -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingBrand">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBrand">
            <i class="fas fa-tag me-2"></i>Marca
          </button>
        </h2>
        <div id="collapseBrand" class="accordion-collapse collapse">
          <div class="accordion-body">
            <div class="elegant-select-list" role="listbox" aria-label="Marcas">
              <button type="button" class="elegant-option"
                      *ngFor="let b of brands"
                      [class.active]="filters.value.selectedBrands.includes(b.brand)"
                      (click)="filters.toggleBrand(b.brand)"
                      role="option"
                      [attr.aria-selected]="filters.value.selectedBrands.includes(b.brand)">
                <span>{{ b.brand }}</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Stock -->
      <div class="mt-3">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="stockFilter"
                [(ngModel)]="filters.value.hasStockFilter">
          <label class="form-check-label" for="stockFilter">
            <i class="fas fa-box me-2"></i>Solo con stock
          </label>
        </div>
      </div>
    </div>
  </div>
</div>
